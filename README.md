# Title

Xrpense

# Tagline

未来の経費申請。XRP Ledgerによる瞬時の経費処理で、バックオフィスをスマートに。

# About

## Abstract

Xrpenseは、従業員と経理担当者のための革新的な経費申請ソリューションです。煩雑な伝統的な経費申請プロセスに代わり、XRP Ledgerを活用し、即時かつ低コストの経費処理を実現。従来の銀行振込の遅延や高い手数料といった問題を解消し、経費申請の効率化を図ります。加えて、ノーコード開発ツールを用いたカスタマイズ可能なワークフローや、AI技術による自動詳細入力、企業メールアドレスを使用したウォレットガバナンスなど、企業のニーズに合わせた柔軟な機能を提供。経費申請と処理の未来を変革するXrpenseは、バックオフィス業務のスマート化を目指します。

## 何を解決するか・直面している課題

従業員の視点から見ると、経費申請のプロセスには多くの課題があります。まず、経費申請そのものを入力する作業が面倒だと感じる人が多いです。加えて、申請書類の要件が厳格であり、少しでも不備があれば申請が却下されてしまうことが多いです。それに、経費が発生した場合、従業員がまず自己負担で立て替える必要があり、給与の振り込み日まで払い戻しを待たなければならないことが精神的、財政的な負担となります。

一方で、経理担当者は別の問題に直面しています。従業員が個人的に経費を先に支払い、後で会社が返済するという流れは、会計上の仕訳処理を複雑にしており、経理担当者にとって手間の多い作業です。さらに、現行の銀行振込システムは古く、全銀フォーマット（日本の銀行間で使用されている標準的なフォーマット）を使用することが多いため、技術的な制限にも直面しています。これは給与振り込みと経費の返済をまとめて行う原因の一つであり、個別での返済を阻む要因となっています。振込手数料が高いため、給与時にまとめて支払いを済ませるのが現実的な選択となります。加えて、振り込みの依頼を行ってから実際に振込が行われるまでには、数日の時間がかかります。結果として従業員は更に長く待たされます。

さらに、経費申請の審査自体が必要であるため、上長や経理担当者にもこのプロセスは負担をかけます。彼らは申請された経費が適正かどうかを確認し、必要に応じて却下または承認を行わなければなりません。この一連のプロセスは効率が悪く、多くの時間と労力を必要とします。従業員と経理担当者双方にとって、経費申請と返済のプロセスは見直しが必要な領域の一つであると言えるでしょう。

このような煩雑な状況は、会計上の潜在的な問題も発生させています。

本来、経費申請にかかる会計処理は、複雑なものです。仕訳帳に複数行にも及ぶ取引記載し、振込を行う必要がありますが、煩雑なため、一行にまとめてしまうことが多いです。
楽ではありますし、会計上問題ないとされていますが、本来あるべきお金の流れを表現することができません。これを正しく表現しなかったことによる潜在的な問題は、ただちには発生しませんが、将来的に問題を引き起こす可能性があります。

## 何をするか

経費申請をXRP Ledgerで行うことで、経費処理をスマートにします。そして、バックオフィスの業務を効率化します。

### XRP Ledgerで安価なうえに高速な振込

XRP Ledgerは、高速な取引が可能で、さらに手数料が安いことで知られています。

XRP Ledgerで経費申請を行うことで、企業は手数料を抑えることができます。
また、従業員はいままでにないスピードで経費を受け取ることができます。

さらに、XRP Ledgerのオートブリッジ機能によって、日本円やXRPだけでなく、あらゆる通貨であっても、自動で交換して受け取ることができます。

### Checksであるべき会計処理を実現

XRP Ledgerでは、Checksという機能があります。
Checksは、XRP Ledger上での振込を、あたかも銀行の小切手のように扱うことができます。
換金が可能な後払いの支払い、借金の存在をオブジェクトで表現、といったことが可能です。

これを利用し、本来経費申請において行われるべき会計処理を1:1で表現します。
インピーダンスミスマッチを解消し、経費処理をスマートにします。

これは、ビルトインで負債を表現する方法が用意されているXRP Ledgerならではの機能で、
他の決済しか表現できないブロックチェーンでは実現できません。

### ノーコード申請ワークフローカスタム

経費申請のワークフローは、会社ごとに異なります。
しかし、ワークフローをカスタムするためには、プログラミングの知識が必要です。
多くの企業ではカスタムを諦め、既存のワークフローに無理やり合わせたり、人手を割いて人力で処理したりしています。

Xrpenseでは、ノーコードでワークフローをカスタムできます。
Xrpenseはノーコードツールを利用して開発されおり、プログラミングの知識がなくてもあらゆる要素をカスタムできます。

### 銀行振込作業不要 オンデマンド振込

Xrpenseでは、XRP LedgerのChecks機能と、高速かつ安価な取引ができる特長を利用することで、銀行振込を不要にします。
これにより、経費処理のスピードを飛躍的に向上させます。

従業員は、経費申請を行うだけで、経費を受け取ることができます。
経理担当者は、経費申請を承認するだけで、経費を支払うことができますし、全銀フォーマットを作成する必要もありません。

## さらにスゴイ機能

### AIが詳細を自動で入力

この機能により、ユーザーは手作業で細かいデータ入力を行う必要がなくなります。AI技術を用いて、必要な情報が自動的にシステムにフィードされるため、時間を節約し、入力ミスを減らすことができます。

### ウォレットインストール不要

企業ユーザーにとって、ウォレットを利用するのは難しいと感じています。ウォレットを従業員の責任において運用することは、セキュリティ上のリスクを伴うため、企業ユーザーは、ウォレットをインストールすることをためらっています。このような問題を認識し、ウォレットが極力必要ないシステムを目指して開発しました。

ユーザーは、特別なウォレットアプリケーションをインストールすることなく、暗号資産を管理したり、取引を行うことができます。Web3Authを利用することで、オンラインで直接、セキュアに資産を扱うことが可能になります。

### 企業メールアドレスでウォレットガバナンス

多くの企業では、従業員のメールアドレスを利用して、様々なサービスにログインしています。しかし、ウォレットを利用する場合、メールアドレスではなく秘密鍵を用いてログインする必要があります。これは、企業のガバナンスに対して大きなリスクとなります。企業のユースケースを考慮し、企業メールアドレスを用いてウォレットを管理する機能を実装しました。

Auth0を利用することで、企業は従業員のメールアドレスを使用してウォレットの管理ができるようになります。これにより、企業ガバナンスに対応した安全な資産管理が行えます。

### マイナンバーカードでウォレット作成

Auth0はOpenID Connectをサポートしており、マイナンバーカードをサポートするプロバイダーを利用すれば、マイナンバーカードまで利用できてしまいます。これにより、マイナンバーカードを用いて、簡単かつ安全にウォレットを作成することが可能です。

## 使った技術

全体的にコードを書く必要を減らしながらも、クオリティが低下しないような技術スタックを選定しました。

### Plasmic

ノーコード開発ツール。XrpenseのフロントエンドはPlasmicで開発されています。Reactをベースにしており、Reactの知識があれば、ノーコードでカスタムできます。

### Web3Auth

Web3Authを用いると、ウォレットをインストールすることなく、ウォレットを作成することができます。企業のメールアドレスに紐づけることもできるので、企業向けのウォレット管理も実装しやすいです。

### Auth0

Auth0を用いることで、企業のメールアドレスや、マイナンバーカードを含むOpenID Connectをサポートするプロバイダーを用いて、ログインを実装することができます。

### XRP Ledger

XRP Ledgerは、高速な取引が可能で、さらに手数料が安いことで知られています。Xrpenseでは、この特長を利用して、経費処理をスマートにします。

### Checks

XRP LedgerのChecks機能を利用することで、銀行振込を不要にします。これにより、経費処理のスピードを飛躍的に向上させます。

### Microsoft Entra ID(旧Azure Active Directory)

多くのエンタープライズが、Microsoft製品を利用しています。 Microsoft Entra IDを用いることで、企業のメールアドレスを用いて、ログインを実装することができます。

### Hasura

Hasuraを用いることで、GraphQLを用いたAPIをコードを書かずに実装することができます。Xrpenseでは、Hasuraを用いて、経費申請のデータベースを実装しています。

### Kubernetes

Xrpenseは、Kubernetes上で動作します。Kubernetesは、クラウド上でのアプリケーションのデプロイを簡単にするためのオープンソースのシステムです。マニフェストを書くだけで、アプリケーションをデプロイすることができます。つくば市に設置されているKubernetesクラスタ上でXrpenseを動作させています。

### OpenAI

OpenAIを用いることで、AIを簡単に実装することができます。Xrpenseでは、OpenAIを用いて、経費申請の詳細を自動で入力する機能を実装しています。

## どのように作ったか

Xrpenseは、私たち、株式会社AokiAppにおける日々のバックオフィス業務における経費処理の課題に直面する中から生まれました。日常業務の効率化と、従業員の負担軽減を目指し、ブロックチェーン技術と最新のノーコード開発プラットフォームを駆使して開発を行いました。はじめに、私たちは経費申請や承認プロセスにおける煩わしさを分析し、その結果をもとに最適化されたワークフローを設計することからスタートしました。

そこで洗い出された課題は主に以下の三点でした：

### ウォレットガバナンス

従業員個々に配布されるウォレットの管理には、セキュリティと利便性を両立させる必要があります。特に企業にとっては、新たなソフトウェアの導入に伴うリスクを最小限に抑え、かつ効率的なウォレット管理を行うことが求められると考えています。

### 開発難易度

ビジネス向けソフトウェアのカスタマイズは、通常高度なプログラミング技術を要求されるため、多くの企業では専門の開発者を雇用して対応しています。しかし、Xrpenseはノーコードのアプローチを取ることで、この問題を解決しました。企業が直面する特定のニーズに合わせて、経営者や経理担当者自身が直感的なインターフェースを通じてシステムを調整することが可能です。加えて、ハッカソンの短い開発期間内で、プロトタイプを作成し、効果的なデモを行う必要があるため、迅速な開発が必須でした。

### 経費申請のワークフローと実際の帳簿のインピーダンスミスマッチ

経費申請のワークフローと実際の帳簿の間には、しばしばインピーダンスミスマッチ—つまり、実際の財務処理がワークフローに適切に反映されない問題—が生じていました。

これらの問題を念頭に置き、要件定義を進めていきました。その結果、Checks, Plasmic, Hasura, Kubernetes, Auth0, Web3Auth, OpenAIの各種技術を組み合わせることで、Xrpenseのシームレスなユーザーエクスペリエンスを実現しました。Checksを活用することにより、経費の立替えに係るデジタル化された小切手システムを導入し、従業員が満たすべき負債と企業が果たすべき返済義務を明確に表しました。Plasmicによって、複雑なフロントエンドの設計を視覚的かつ迅速に行い、Hasuraはバックエンドとのデータ連携を効率化しました。Kubernetesの採用は、デプロイメントの管理と拡張性を担保する上での要となりました。また、Auth0とWeb3Authの組み合わせは、強固なセキュリティと簡便なログイン体験を実現し、企業メールアドレスによるウォレットガバナンスを可能にしました。さらに、OpenAIは経費申請時の詳細入力を自動化するAIアシスタントとしての役割を果たすことで、ユーザーの労力を大幅に軽減します。

## 開発を通して学んだこと

開発を通じて、私が最も重要だと感じたのは、新しいテクノロジーへの探求心と深い理解の獲得です。私はXRP Ledgerの強力なビルトイン機能の良さや、逆に悪い点を体験しました。良い点として、Checks機能が挙げられます。これにより、経費の立替えに関する取引をデジタル小切手として具現化し、複雑な経費清算プロセスを効率化できる可能性を確認しました。悪い点としては、Hooksが挙げられます。Hooksはスマートコントラクトのような機能を期待させるものですが、現時点ではチューリング完全性がなく、関数コールが禁止され、開発の中で非常に限定された用途のみ利用が可能であることを理解しました。そのため結局Hooksを使うことはありませんでしたが、この悪い点を知る過程で、WasmEdgeの仕様を深堀りしたり、バリデーションシステムの実装を調べたりすることで、スマートコントラクトとその実行環境に関する理解を大幅に深めることができました。

さらに、開発プロセスでのもう一つの大きな発見は、ノーコードツールのパワフルさでした。PlasmicやGraphQLを使用することで、UI開発の時間を大幅に短縮し、開発チームがプロジェクトの他の重要なアスペクトに集中できるようになりました。従来の開発フローと比較して、プロジェクトのマイルストーンを早期に達成できるのは、まさにノーコード開発が提供する大きな利点の一例です。

## 次にやりたいこと

Xrpenseを本格的に開発し、AokiAppの製品として販売することです。
